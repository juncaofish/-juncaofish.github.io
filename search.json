[{"title":"用Hive处理海量JSON数据","url":"http://yoursite.com/2016/09/06/用Hive处理海量JSON数据/","content":"<h1 id=\"&#x7B80;&#x8FF0;\"><a href=\"#&#x7B80;&#x8FF0;\" class=\"headerlink\" title=\"&#x7B80;&#x8FF0;\"></a>&#x7B80;&#x8FF0;</h1><p>&#x516C;&#x53F8;&#x67D0;&#x6A21;&#x5757;&#x6536;&#x96C6;&#x5230;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x4EE5;JSON&#x683C;&#x5F0F;&#x88AB;&#x4FDD;&#x5B58;&#x4E3A;&#x5927;&#x91CF;&#x7684;&#x5C0F;&#x6587;&#x4EF6;&#xFF0C;&#x73B0;&#x4E1A;&#x52A1;&#x9700;&#x8981;&#x5BF9;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x3002;<br>&#x8FD9;&#x4E9B;&#x5C0F;&#x6587;&#x4EF6;&#x4EE5;&#x5929;&#x4E3A;&#x5355;&#x4F4D;&#xFF0C;&#x901A;&#x8FC7;hadoop archive&#x547D;&#x4EE4;&#x88AB;&#x5F52;&#x6863;&#x4E3A;har&#x683C;&#x5F0F;&#x7684;&#x6587;&#x4EF6;&#x3002;<br>&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x53EF;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5185;&#x5BB9;&#xFF1A;</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hadoop fs -ls har:///path/to/data.har</div></pre></td></tr></table></figure>\n<p>&#x63D0;&#x5230;Hive&#x7684;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#xFF0C;&#x4E0D;&#x80FD;&#x4E0D;&#x63D0;&#x5230;&#x4E00;&#x4E2A;&#x53EB;SerDe&#x7684;&#x73A9;&#x610F;&#x513F;&#x3002;&#x521D;&#x59CB;SerDe&#x5C31;&#x50CF;&#x4E00;&#x4E2A;&#x602A;&#x8700;&#x9ECD;&#xFF0C;&#x4E0D;&#x59A8;&#x770B;&#x4E0B;<a href=\"https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide\" target=\"_blank\" rel=\"external\">&#x5B98;&#x65B9;&#x89E3;&#x91CA;</a>&#xFF1A;</p>\n<blockquote>\n<p>What is a SerDe?  </p>\n<ul>\n<li>SerDe is a short name for &#x201C;Serializer and Deserializer.&#x201D;</li>\n<li>Hive uses SerDe (and FileFormat) to read and write table rows.</li>\n<li>HDFS files &#x2013;&gt; InputFileFormat &#x2013;&gt; (key, value) &#x2013;&gt; Deserializer &#x2013;&gt; Row object</li>\n<li>Row object &#x2013;&gt; Serializer &#x2013;&gt; (key, value) &#x2013;&gt; OutputFileFormat &#x2013;&gt; HDFS files</li>\n</ul>\n</blockquote>\n<p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;SerDe&#x5176;&#x5B9E;&#x662F;&#x4E2A;&#x9002;&#x914D;&#x5668;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x5C06;&#x539F;&#x5148;&#x7684;HDFS&#x6570;&#x636E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x4E3A;Hive&#x4E2D;&#x7684;Row Object&#xFF0C;&#x5728;&#x6570;&#x636E;&#x5BFC;&#x51FA;&#x65F6;&#xFF0C;&#x5C06;Row Object&#x5E8F;&#x5217;&#x5316;&#x4E3A;HDFS&#x6587;&#x672C;&#x3002;&#x800C;&#x4E14;&#x5927;&#x591A;&#x6570;&#x65F6;&#x5019;&#xFF0C;&#x7528;&#x6237;&#x5173;&#x5FC3;&#x7684;&#x662F;&#x5982;&#x4F55;&#x5BFC;&#x5165;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x5230;Hive&#xFF0C;&#x56E0;&#x6B64;&#x66F4;&#x5173;&#x5FC3;Deserializer&#x3002;<br>&#x76EE;&#x524D;Hive&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x7684;SerDe&#x63A5;&#x53E3;&#xFF0C;&#x5982;ORC/Avro/CSV&#x7B49;&#x7B49;&#xFF0C;&#x800C;&#x4E14;&#x7531;&#x4E8E;Hive&#x672C;&#x8EAB;&#x5F00;&#x653E;&#x4E86;Deserializer&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x53BB;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684;SerDe&#x3002;<br>&#x672C;&#x7740;&#x4E0D;&#x8981;&#x91CD;&#x590D;&#x5236;&#x9020;&#x8F6E;&#x5B50;&#x7684;&#x7CBE;&#x795E;&#xFF0C;&#x5728;Stackoverflow&#x4E0A;&#x627E;&#x5230;&#x4E86;&#x8FD9;&#x6837;&#x7684;&#x4E00;&#x4E2A;<a href=\"http://stackoverflow.com/questions/33927116/load-complex-json-in-hive-using-jsonserde\" target=\"_blank\" rel=\"external\">&#x5E16;&#x5B50;</a>&#xFF0C;&#x56DE;&#x7B54;&#x5982;&#x4F55;&#x9AD8;&#x6548;&#x751F;&#x6210;Hive Schema&#x5E76;&#x52A0;&#x8F7D;&#x590D;&#x6742;JSON&#x6570;&#x636E;&#x5230;Hive&#x5F53;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x540C;&#x65F6;&#x89E3;&#x51B3;&#x4E86;JSON&#x6570;&#x636E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x548C;Hive&#x8868;Schema&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#x3002;</p>\n<ul>\n<li><a href=\"https://github.com/rcongiu/Hive-JSON-Serde\" target=\"_blank\" rel=\"external\">Hive-JSON-Serde</a></li>\n<li><a href=\"https://github.com/quux00/hive-json-Schema\" target=\"_blank\" rel=\"external\">hive-json-schema</a></li>\n</ul>\n<h1 id=\"&#x6570;&#x636E;&#x5904;&#x7406;&#x6D41;&#x7A0B;\"><a href=\"#&#x6570;&#x636E;&#x5904;&#x7406;&#x6D41;&#x7A0B;\" class=\"headerlink\" title=\"&#x6570;&#x636E;&#x5904;&#x7406;&#x6D41;&#x7A0B;\"></a>&#x6570;&#x636E;&#x5904;&#x7406;&#x6D41;&#x7A0B;</h1><ol>\n<li><em>Preprocss  &#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x524D;&#x5904;&#x7406;</em><ul>\n<li>&#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#x8865;&#x5168;&#xFF0C;&#x7528;&#x4E8E;Group&#xFF0C;&#x4EE5;&#x53CA;&#x5C06;&#x5927;&#x91CF;&#x5C0F;&#x6587;&#x4EF6;&#x8F6C;&#x5316;&#x4E3A;&#x5927;Size&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5199;&#x5165;&#x4E0D;&#x540C;&#x7684;Group Directory&#x4E0B;&#x9762;</li>\n<li>&#x4E00;&#x6761;&#x6570;&#x636E;&#x7684;sample <blockquote>\n<p>{<br>   &#x201C;dt&#x201D;: 1429372800878,<br>   &#x201C;ac&#x201D;: &#x201C;apk_def&#x201D;,<br>   &#x201C;apk_def&#x201D;: [  </p>\n<pre><code>{  \n  &quot;n&quot;: &quot;&#x97F3;&#x4E50;&quot;,  \n  &quot;v&quot;: &quot;19&quot;,  \n  &quot;v_n&quot;: &quot;4.4.4-1435127845&quot;,  \n  &quot;apk&quot;: &quot;com.freeme.music&quot;,  \n  &quot;tp&quot;: 2  \n},  \n{  \n  &quot;n&quot;: &quot;&#x89C6;&#x9891;&quot;,  \n  &quot;v&quot;: &quot;4100&quot;,  \n  &quot;v_n&quot;: &quot;4.1&quot;,  \n  &quot;apk&quot;: &quot;com.freeme.videogallery&quot;,  \n  &quot;tp&quot;: 3  \n}  \n</code></pre><p>   ],<br>   &#x201C;mac&#x201D;: &#x201C;00:06:19:fc:e0:fb&#x201D;,<br>   &#x201C;imei&#x201D;: &#x201C;&#x201D;,<br>   &#x201C;imsi&#x201D;: &#x201C;&#x201D;,<br>   &#x201C;uuid&#x201D;: &#x201C;b1f16eb3-8732-47af-890e-8e740265b62a&#x201D;<br>}</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li><p><em>Create table schema with JSON sample</em></p>\n<ul>\n<li>&#x9488;&#x5BF9;Step 1&#x4E2D;&#x751F;&#x6210;&#x7684;hdfs&#x5206;&#x7EC4;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5206;&#x522B;&#x8C03;&#x7528;Hive-JSON-Schema&#x8FD9;&#x4E2A;repo build&#x51FA;&#x6765;&#x7684;jar&#xFF0C;&#x6765;&#x751F;&#x6210;schema.hql&#xFF0C;&#x7528;&#x4E8E;&#x521B;&#x5EFA;Hive&#x8868;</li>\n<li><p>&#x6267;&#x884C;&#x4E00;&#x4E9B;&#x6279;&#x91CF;&#x63D2;&#x5165;&#x3001;&#x66FF;&#x6362;&#x547D;&#x4EE4;&#xFF0C;&#x5B8C;&#x5584;&#x5EFA;&#x8868;&#x4FE1;&#x606F;</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#! /bin/bash</span></div><div class=\"line\">BASEDIR=/current/script/dir</div><div class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> `hadoop fs -ls /path/to/preprocess/group|awk <span class=\"string\">&apos;{print $8}&apos;</span>`</div><div class=\"line\"><span class=\"keyword\">do</span></div><div class=\"line\">    hadoop fs -test <span class=\"_\">-d</span> <span class=\"variable\">$i</span></div><div class=\"line\">    <span class=\"keyword\">if</span> [ $? <span class=\"_\">-eq</span> 0 ];<span class=\"keyword\">then</span> </div><div class=\"line\">        group=`basename <span class=\"variable\">$i</span>`</div><div class=\"line\">        hadoop fs -text /path/to/preprocess/group/<span class=\"variable\">${group}</span>/*.lzo|head -1 &gt; <span class=\"variable\">$BASEDIR</span>/sample/<span class=\"variable\">${group}</span>_sample.txt </div><div class=\"line\">        java -jar <span class=\"variable\">$BASEDIR</span>/hive-json-schema/target/json-hive-schema-1.0-jar-with-dependencies.jar <span class=\"variable\">$BASEDIR</span>/sample/<span class=\"variable\">${group}</span>_sample.txt <span class=\"variable\">${group}</span> &gt; <span class=\"variable\">$BASEDIR</span>/schema/<span class=\"variable\">${group}</span>.hql</div><div class=\"line\">        sed -i <span class=\"string\">&quot;1i use Schemaname;&quot;</span> <span class=\"variable\">$BASEDIR</span>/schema/<span class=\"variable\">${group}</span>.hql  </div><div class=\"line\">        sed -i <span class=\"string\">&quot;1i ADD JAR \\/etc\\/hive\\/auxlib\\/json-serde-1.3.8-SNAPSHOT-jar-with-dependencies.jar;&quot;</span> <span class=\"variable\">$BASEDIR</span>/schema/<span class=\"variable\">${group}</span>.hql  </div><div class=\"line\">        sed -i <span class=\"string\">&quot;s/TABLE/EXTERNAL TABLE IF NOT EXISTS/g&quot;</span> <span class=\"variable\">$BASEDIR</span>/schema/<span class=\"variable\">${group}</span>.hql  </div><div class=\"line\">        sed -i <span class=\"string\">&quot;s/dt int/dt bigint/g&quot;</span> <span class=\"variable\">$BASEDIR</span>/schema/<span class=\"variable\">${group}</span>.hql  </div><div class=\"line\">        sed -i <span class=\"string\">&quot;s/ROW FORMAT SERDE &apos;org.openx.data.jsonserde.JsonSerDe&apos;;/partitioned by (pd string)\\nROW FORMAT SERDE &apos;org.openx.data.jsonserde.JsonSerDe&apos;\\nSTORED AS INPUTFORMAT &apos;com.hadoop.mapred.DeprecatedLzoTextInputFormat&apos; \\nOUTPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&apos;;/g&quot;</span> <span class=\"variable\">$BASEDIR</span>/schema/<span class=\"variable\">${group}</span>.hql  </div><div class=\"line\">    <span class=\"keyword\">fi</span>  </div><div class=\"line\"><span class=\"keyword\">done</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>&#x751F;&#x6210;&#x7684;.hql&#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x521B;&#x5EFA;hive&#x8868;&#xFF0C;sample</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">use schema;</div><div class=\"line\">CREATE EXTERNAL TABLE IF NOT EXISTS apk_def (</div><div class=\"line\">  ac string,</div><div class=\"line\">  apk_def array&lt;struct&lt;apk:string, n:string, tp:int, v:string, v_n:string&gt;&gt;,</div><div class=\"line\">  dt bigint,</div><div class=\"line\">  imei string,</div><div class=\"line\">  imsi string,</div><div class=\"line\">  mac string,</div><div class=\"line\">  uuid string)</div><div class=\"line\">partitioned by (pd string)</div><div class=\"line\">ROW FORMAT SERDE <span class=\"string\">&apos;org.openx.data.jsonserde.JsonSerDe&apos;</span></div><div class=\"line\">STORED AS INPUTFORMAT <span class=\"string\">&apos;com.hadoop.mapred.DeprecatedLzoTextInputFormat&apos;</span></div><div class=\"line\">OUTPUTFORMAT <span class=\"string\">&apos;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&apos;</span>;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p><em>Load JSON into hive table</em></p>\n<ul>\n<li>&#x4F7F;&#x7528;hive -f *.hql&#x547D;&#x4EE4;&#x6765;&#x521B;&#x5EFA;hive&#x8868;  </li>\n</ul>\n</li>\n</ol>\n<h1 id=\"&#x7248;&#x672C;&#x548C;&#x914D;&#x7F6E;&#x95EE;&#x9898;\"><a href=\"#&#x7248;&#x672C;&#x548C;&#x914D;&#x7F6E;&#x95EE;&#x9898;\" class=\"headerlink\" title=\"&#x7248;&#x672C;&#x548C;&#x914D;&#x7F6E;&#x95EE;&#x9898;\"></a>&#x7248;&#x672C;&#x548C;&#x914D;&#x7F6E;&#x95EE;&#x9898;</h1><ul>\n<li>&#x65B0;&#x5EFA;&#x6587;&#x4EF6;&#x5939;/etc/hive/auxlib/&#xFF0C;&#x7136;&#x540E;&#x5C06;Hive-JSON-Serde build&#x51FA;&#x6765;&#x7684;json-serde-1.3.8-SNAPSHOT-jar-with-dependencies.jar&#x6DFB;&#x52A0;&#x8FC7;&#x53BB;&#xFF0C;&#x5728;apache-hive-1.2.1-bin/conf/hive-env.sh&#x4E2D;&#x4FEE;&#x6539;&#x8FD9;&#x4E00;&#x884C;<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Folder containing extra ibraries required for hive compilation/execution can be controlled by:</span></div><div class=\"line\"><span class=\"built_in\">export</span> HIVE_AUX_JARS_PATH=/etc/hive/auxlib/</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x6BCF;&#x4E00;&#x6B21;&#x542F;&#x52A8;hive shell&#x4E4B;&#x540E;&#x518D;add jar json-serde.jar&#x4E86;&#x3002;  </p>\n<ul>\n<li>&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x4E2A;JSON-Serde&#x6700;&#x597D;&#x5728;hive-1.2&#x4EE5;&#x540E;&#x7684;&#x7248;&#x672C;&#x4E2D;&#x5DE5;&#x4F5C;&#xFF0C;&#x5426;&#x5219;&#x5728;&#x5904;&#x7406;&#x5E26;partitions&#x7684;&#x67E5;&#x8BE2;&#x65F6;&#x4F1A;&#x9047;&#x5230;&#x4E00;&#x4E2A;&#x5347;&#x7EA7;&#x624D;&#x89E3;&#x51B3;&#x7684;<a href=\"https://github.com/rcongiu/Hive-JSON-Serde/issues/106\" target=\"_blank\" rel=\"external\">issue</a>&#x3002;  </li>\n<li>&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;Hive-JSON-Serde&#x8FD9;&#x4E2A;&#x5F00;&#x6E90;&#x5305;&#xFF0C;&#x6709;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5982;Integer&#x4E0D;&#x80FD;&#x8F6C;&#x6362;&#x6210;&#x4E3A;Hive&#x7684;BigInt&#x7C7B;&#x578B;&#xFF0C;&#x521B;&#x5EFA;schema&#x65F6;&#x9700;&#x8981;&#x6253;&#x4E00;&#x4E0B;&#x8865;&#x4E01;&#x3002;&#x66F4;&#x591A;&#x7684;Serde&#x6BD4;&#x8F83;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8FD9;&#x7BC7;<a href=\"http://ottomata.org/tech/too-many-hive-json-serdes/\" target=\"_blank\" rel=\"external\">&#x5E16;&#x5B50;</a>&#x3002;</li>\n</ul>\n"},{"title":"微信公众号聊天机器人的搭建","url":"http://yoursite.com/2016/09/05/微信公众号聊天机器人的搭建/","content":"<h1 id=\"&#x7B80;&#x8FF0;\"><a href=\"#&#x7B80;&#x8FF0;\" class=\"headerlink\" title=\"&#x7B80;&#x8FF0;\"></a>&#x7B80;&#x8FF0;</h1><hr>\n<p>&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;(chatbot)&#x706B;&#x4E86;&#x6709;&#x4E9B;&#x5E74;&#x5934;&#x4E86;&#xFF0C;&#x4ECE;&#x6700;&#x521D;&#x4EBA;&#x4EBA;&#x7F51;&#x98CE;&#x9761;&#x4E00;&#x65F6;&#x7684;&#x5C0F;&#x9EC4;&#x9E21;&#xFF0C;&#x5230;&#x5FAE;&#x8F6F;&#x7684;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x5C0F;&#x51B0;&#xFF0C;&#x767E;&#x5EA6;&#x7684;&#x5EA6;&#x79D8;&#xFF0C;Facebook&#x7684;messenger&#xFF0C;Google Assistant&#x3002;&#x5927;&#x516C;&#x53F8;&#x5BF9;&#x4E8E;&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;&#x5E02;&#x573A;&#x4F3C;&#x4E4E;&#x5BC4;&#x4E88;&#x539A;&#x671B;&#x3002;<br>&#x7B14;&#x8005;&#x4E5F;&#x66FE;&#x7ECF;&#x5728;&#x4E1A;&#x4F59;&#x65F6;&#x95F4;&#x5728;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x5E73;&#x53F0;&#x4E0A;&#x642D;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;&#x3002;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x539F;&#x7406;&#x548C;&#x65B9;&#x6CD5;&#x3002;</p>\n<h1 id=\"&#x539F;&#x7406;\"><a href=\"#&#x539F;&#x7406;\" class=\"headerlink\" title=\"&#x539F;&#x7406;\"></a>&#x539F;&#x7406;</h1><hr>\n<p>&#x5728;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x5E73;&#x53F0;&#x4E0A;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x5F00;&#x53D1;&#x8005;&#x63A5;&#x53E3;&#xFF0C;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x5C06;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x6253;&#x9020;&#x6210;&#x4E3A;&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;&#x3002;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x5F00;&#x53D1;&#x6587;&#x6863;&#x91CC;&#x7ED9;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x8BE6;&#x5C3D;&#x7684;<a href=\"https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1472017492_58YV5\" target=\"_blank\" rel=\"external\">&#x4F8B;&#x5B50;</a>&#x3002;&#x5927;&#x81F4;&#x603B;&#x7ED3;&#x4E3A;&#x4EE5;&#x4E0B;&#x51E0;&#x70B9;&#xFF1A;  </p>\n<ul>\n<li>&#x9996;&#x5148;&#x9700;&#x8981;&#x7533;&#x8BF7;&#x4E00;&#x4E2A;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#xFF08;&#x8BA2;&#x9605;&#x53F7;&#x3001;&#x670D;&#x52A1;&#x53F7;&#x90FD;&#x53EF;&#x4EE5;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x63A5;&#x53E3;&#x6743;&#x9650;&#x5DEE;&#x5F02;&#x53C2;&#x8003;<a href=\"https://mp.weixin.qq.com/wiki?id=mp1433401084\" target=\"_blank\" rel=\"external\">&#x5B98;&#x65B9;&#x6587;&#x6863;</a>&#xFF09;</li>\n<li>&#x5176;&#x6B21;&#x9700;&#x8981;&#x4E00;&#x53F0;80&#x7AEF;&#x53E3;&#x53EF;&#x88AB;&#x5916;&#x90E8;&#x8BBF;&#x95EE;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8FD9;&#x4E2A;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x6D41;&#x884C;&#x7684;&#x4E91;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x50CF;&#x817E;&#x8BAF;&#x4E91;&#x3001;&#x65B0;&#x6D6A;&#x4E91;&#x3001;&#x767E;&#x5EA6;&#x4E91;&#x3001;&#x963F;&#x91CC;&#x4E91;&#x7B49;&#x7B49;&#x3002;&#x672C;&#x6587;&#x4EE5;&#x65B0;&#x6D6A;&#x4E91;&#x5F15;&#x64CE;&#xFF08;<a href=\"http://sae.sina.com.cn\" target=\"_blank\" rel=\"external\">Sina App Engine</a>&#xFF09;&#x4E3A;&#x4F8B;&#xFF0C;&#x6CE8;&#x518C;&#x9001;&#x4E91;&#x8C46;&#xFF0C;&#x4E2A;&#x4EBA;&#x5F00;&#x53D1;&#x4E1A;&#x52A1;&#x57FA;&#x672C;&#x80FD;&#x591F;cover&#x3002;</li>\n<li>&#x7136;&#x540E;&#x9700;&#x8981;&#x80FD;&#x591F;&#x8C03;&#x7528;&#x5E02;&#x573A;&#x4E0A;&#x73B0;&#x6709;&#x7684;&#x4E2D;&#x6587;&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;&#x63A5;&#x53E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x6682;&#x65F6;&#x4E0D;&#x4F5C;&#x63A8;&#x8350;&#x3002;  </li>\n</ul>\n<p>&#x5927;&#x81F4;&#x6D41;&#x7A0B;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>\n<div align=\"left\"><br><img src=\"/2016/09/05/&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;&#x7684;&#x642D;&#x5EFA;/chatflow.png\" alt=\"chat\"><br></div>\n\n<h1 id=\"&#x5177;&#x4F53;&#x5B9E;&#x73B0;\"><a href=\"#&#x5177;&#x4F53;&#x5B9E;&#x73B0;\" class=\"headerlink\" title=\"&#x5177;&#x4F53;&#x5B9E;&#x73B0;\"></a>&#x5177;&#x4F53;&#x5B9E;&#x73B0;</h1><hr>\n<p>&#x5728;&#x7533;&#x8BF7;&#x7684;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x914D;&#x7F6E;&#x754C;&#x9762;&#xFF0C;&#x8FDB;&#x884C;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#x3002;</p>\n<div align=\"left\"><br><img src=\"/2016/09/05/&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;&#x7684;&#x642D;&#x5EFA;/config.png\" alt=\"config\"><br></div>\n\n<p>&#x5728;SAE&#x4E0A;&#x5B9E;&#x73B0;&#x5BF9;&#x5E94;&#x7684;Route&#x65B9;&#x6CD5;&#x6765;&#x54CD;&#x5E94;GET/POST&#x8BF7;&#x6C42;&#x3002;</p>\n<ul>\n<li>&#x5FAE;&#x4FE1;&#x670D;&#x52A1;&#x5668;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x7684;&#x9A8C;&#x8BC1;&#xFF0C;&#x901A;&#x8FC7;GET&#x8BF7;&#x6C42;&#x65F6;&#x4F20;&#x9012;&#x53C2;&#x6570;signature/timestamp/nonce/echostr&#xFF0C;&#x7136;&#x540E;&#x5728;SAE&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8BA1;&#x7B97;timestamp/nonce/token&#x7684;sha&#x503C;&#x5F97;&#x5230;signature&#xFF0C;&#x548C;&#x5FAE;&#x4FE1;&#x670D;&#x52A1;&#x5668;signature&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x3002;&#x901A;&#x8FC7;&#x9A8C;&#x8BC1;&#xFF0C;&#x5219;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x7684;url&#x914D;&#x7F6E;&#x6210;&#x529F;&#x3002;</li>\n<li>&#x914D;&#x7F6E;&#x901A;&#x8FC7;&#x540E;&#xFF0C;&#x7528;&#x6237;&#x7684;&#x6D88;&#x606F;&#x5C31;&#x4F1A;&#x4EE5;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x5B9A;&#x4E49;&#x7684;xml&#x683C;&#x5F0F;post&#x5230;&#x8BE5;url&#x5730;&#x5740;&#xFF0C;SAE&#x670D;&#x52A1;&#x5668;&#x901A;&#x8FC7;&#x54CD;&#x5E94;POST&#x8BF7;&#x6C42;&#x6765;&#x5BF9;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x56DE;&#x590D;&#x3002;<br>&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E0A;&#x8FF0;&#x529F;&#x80FD;&#xFF0C;&#x5728;&#x7528;&#x6237;&#x53D1;&#x9001;&#x6587;&#x672C;&#x6D88;&#x606F;&#x65F6;&#x5219;&#x56DE;&#x7B54;&#x76F8;&#x540C;&#x7684;&#x6587;&#x672C;&#x3002;&#x548C;&#x914D;&#x7F6E;&#x7684;&#x540D;&#x79F0;&#x4E00;&#x6837;&#xFF0C;&#x662F;&#x4E2A;<em>idiot</em>&#x673A;&#x5668;&#x4EBA;&#x3002;<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">@app.route(&apos;/wechat/&lt;roboid&gt;&apos;, methods=[&apos;GET&apos;, &apos;POST&apos;])</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wechat_auth_reply</span><span class=\"params\">(roboid)</span>:</span></div><div class=\"line\">    <span class=\"keyword\">if</span> request.method == <span class=\"string\">&apos;GET&apos;</span>:</div><div class=\"line\">        token = <span class=\"string\">&apos;botx&apos;</span></div><div class=\"line\">        <span class=\"keyword\">try</span>:</div><div class=\"line\">            data = request.args</div><div class=\"line\">            signature = data.get(<span class=\"string\">&apos;signature&apos;</span>, <span class=\"string\">&apos;&apos;</span>)</div><div class=\"line\">            timestamp = data.get(<span class=\"string\">&apos;timestamp&apos;</span>, <span class=\"string\">&apos;&apos;</span>)</div><div class=\"line\">            nonce = data.get(<span class=\"string\">&apos;nonce&apos;</span>, <span class=\"string\">&apos;&apos;</span>)</div><div class=\"line\">            echostr = data.get(<span class=\"string\">&apos;echostr&apos;</span>, <span class=\"string\">&apos;&apos;</span>)</div><div class=\"line\">            s = [timestamp, nonce, token]</div><div class=\"line\">            s.sort()</div><div class=\"line\">            s = <span class=\"string\">&apos;&apos;</span>.join(s)</div><div class=\"line\">  </div><div class=\"line\">            <span class=\"keyword\">if</span> (hashlib.sha1(s).hexdigest() == signature):</div><div class=\"line\">                <span class=\"keyword\">return</span> make_response(echostr)</div><div class=\"line\">        <span class=\"keyword\">except</span>:</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">&apos;Hmmm, SAE is working.&apos;</span></div><div class=\"line\">  </div><div class=\"line\">    <span class=\"keyword\">else</span>:</div><div class=\"line\">        rec = request.stream.read()</div><div class=\"line\">        xml = etree.fromstring(rec)</div><div class=\"line\">        toUser = xml.find(<span class=\"string\">&apos;ToUserName&apos;</span>).text</div><div class=\"line\">        fromUser = xml.find(<span class=\"string\">&apos;FromUserName&apos;</span>).text</div><div class=\"line\">        msgType = xml.find(<span class=\"string\">&quot;MsgType&quot;</span>).text</div><div class=\"line\">  </div><div class=\"line\">        <span class=\"keyword\">if</span> msgType == <span class=\"string\">&apos;text&apos;</span>:</div><div class=\"line\">            content = xml.find(<span class=\"string\">&quot;Content&quot;</span>).text.strip()</div><div class=\"line\">        <span class=\"keyword\">else</span>:</div><div class=\"line\">            content = <span class=\"string\">u&apos;&#x6D88;&#x606F;&#x7C7B;&#x578B;%s&#x5C1A;&#x672A;&#x652F;&#x6301;&#x3002;&#x8BF7;&#x79FB;&#x6B65;&#x81F3;&#x5176;&#x5B83;&#x9009;&#x9879;&#x3002;\\n&apos;</span> % MsgType</div><div class=\"line\">        <span class=\"keyword\">return</span> render_template(<span class=\"string\">&quot;text_reply.xml&quot;</span>,</div><div class=\"line\">                                toUser=fromUser,</div><div class=\"line\">                                fromUser=toUser,</div><div class=\"line\">                                createTime=str(int(time.time())),</div><div class=\"line\">                                content=content)</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>&#x804A;&#x5929;&#x60C5;&#x666F;&#xFF1A;</p>\n<div align=\"left\"><br><img src=\"/2016/09/05/&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;&#x7684;&#x642D;&#x5EFA;/idiotbot.png\" alt=\"idiot\"><br></div>\n\n<p>&#x63A5;&#x4E0B;&#x6765;&#x6F14;&#x793A;&#x4E00;&#x4E0B;&#x5982;&#x4F55;&#x8BA9;idiot&#x53D8;&#x806A;&#x660E;&#x4E00;&#x70B9;&#x3002;&#x6211;&#x4EEC;&#x6765;&#x63A5;&#x5165;&#x56FE;&#x7075;&#x673A;&#x5668;&#x4EBA;&#x7684;&#x804A;&#x5929;&#x63A5;&#x53E3;&#x3002;<br>&#x5148;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x673A;&#x5668;&#x4EBA;&#x7684;&#x7C7B;&#x3002;<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RobotAgent</span><span class=\"params\">(object)</span>:</span></div><div class=\"line\">  </div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></div><div class=\"line\">        self.cfg = ConfigParser.ConfigParser()</div><div class=\"line\">        self.cfg.read(<span class=\"string\">&quot;robot.conf&quot;</span>)</div><div class=\"line\">        self.Headers = {</div><div class=\"line\">            <span class=\"string\">&apos;User-Agent&apos;</span>: self.cfg.get(<span class=\"string\">&apos;agent&apos;</span>, <span class=\"string\">&apos;headers&apos;</span>)}</div><div class=\"line\">        self.debug = <span class=\"keyword\">False</span></div><div class=\"line\">  </div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_reply</span><span class=\"params\">(self, query, source)</span>:</span></div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">u&apos;&#x6211;&#x51FA;&#x95EE;&#x9898;&#x4E86;&apos;</span></div><div class=\"line\">  </div><div class=\"line\">  </div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Idiot</span><span class=\"params\">(RobotAgent)</span>:</span></div><div class=\"line\">  </div><div class=\"line\">    <span class=\"string\">&apos;&apos;&apos;</span></div><div class=\"line\">    &#x50BB;&#x5B50;</div><div class=\"line\">    &apos;&apos;&apos;</div><div class=\"line\">  </div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, roboid=<span class=\"string\">&quot;idiot&quot;</span>)</span>:</span></div><div class=\"line\">        RobotAgent.__init__(self)</div><div class=\"line\">        self.name = self.cfg.get(roboid, <span class=\"string\">&quot;name&quot;</span>).encode(<span class=\"string\">&quot;utf8&quot;</span>)</div><div class=\"line\">        self.url = self.cfg.get(roboid, <span class=\"string\">&quot;url&quot;</span>)</div><div class=\"line\">        self.apikey = self.cfg.get(roboid, <span class=\"string\">&quot;key&quot;</span>)</div><div class=\"line\">  </div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_reply</span><span class=\"params\">(self, query, source=<span class=\"string\">&quot;idiot&quot;</span>)</span>:</span></div><div class=\"line\">        params = {<span class=\"string\">&apos;key&apos;</span>: self.apikey, <span class=\"string\">&apos;info&apos;</span>: query}</div><div class=\"line\">        <span class=\"keyword\">try</span>:</div><div class=\"line\">            r = requests.get(self.url, params=params, headers=self.Headers)</div><div class=\"line\">            reply = r.json().get(<span class=\"string\">&apos;text&apos;</span>)</div><div class=\"line\">  </div><div class=\"line\">        <span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> e:</div><div class=\"line\">            reply = RobotAgent.getReply(self, query, source)</div><div class=\"line\">        <span class=\"keyword\">return</span> reply</div><div class=\"line\">  </div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_robot</span><span class=\"params\">(robot=<span class=\"string\">&quot;idiot&quot;</span>)</span>:</span></div><div class=\"line\">    <span class=\"string\">&quot;&quot;&quot;The factory method&quot;&quot;&quot;</span></div><div class=\"line\">    robots = dict(idiot=Idiot)</div><div class=\"line\">    <span class=\"keyword\">return</span> robots[robot]()</div></pre></td></tr></table></figure></p>\n<p>&#x7136;&#x540E;&#x628A;&#x539F;&#x5148;&#x7684;&#x5B66;&#x8BDD;&#x90A3;&#x53E5;&#x4EE3;&#x7801;&#x6539;&#x6210;<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">...</div><div class=\"line\">robot = get_robot(roboid)  <span class=\"comment\"># get the robot object from factory with roboid</span></div><div class=\"line\"><span class=\"keyword\">if</span> msgType == <span class=\"string\">&apos;text&apos;</span>:</div><div class=\"line\">    content = xml.find(<span class=\"string\">&quot;Content&quot;</span>).text.strip()</div><div class=\"line\">    reply = robot.get_reply(content)</div><div class=\"line\">...</div></pre></td></tr></table></figure></p>\n<p>&#x6240;&#x6709;&#x7684;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x653E;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;robot.conf&#x4E2D;  </p>\n<blockquote>\n<p>[agent]<br>headers = Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.80 Safari/537.36</p>\n<p>[idiot]<br>name = &#x673A;&#x5668;&#x4EBA;X<br>url = <a href=\"http://www.tuling123.com/openapi/api\" target=\"_blank\" rel=\"external\">http://www.tuling123.com/openapi/api</a><br>key = 1eeb09591a9a0cb38999d26725fd4bb7</p>\n</blockquote>\n<p>&#x56FE;&#x7075;&#x673A;&#x5668;&#x4EBA;&#x804A;&#x5929;&#x60C5;&#x666F;&#xFF1A;</p>\n<div align=\"left\"><br><img src=\"/2016/09/05/&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;&#x7684;&#x642D;&#x5EFA;/turingbot.png\" alt=\"turing\"><br></div><br>&#x5F88;&#x7B80;&#x5355;&#x5427;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x53EF;&#x4EE5;&#x6311;&#x9017;&#x673A;&#x5668;&#x4EBA;&#x4E86;&#xFF01;<br><div align=\"center\"><br><img src=\"/2016/09/05/&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;&#x7684;&#x642D;&#x5EFA;/qrcode.jpg\" alt=\"qrcode\"><br></div>\n\n"},{"title":"hadoop-streaming进行数据标签","url":"http://yoursite.com/2016/09/04/用hadoop-streaming进行数据标签/","content":"<h1 id=\"&#x95EE;&#x9898;\"><a href=\"#&#x95EE;&#x9898;\" class=\"headerlink\" title=\"&#x95EE;&#x9898;\"></a>&#x95EE;&#x9898;</h1><hr>\n<p>&#x4E3A;&#x4E86;&#x4FBF;&#x4E8E;&#x5E76;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x6211;&#x4EEC;&#x7684;raw data&#x901A;&#x5E38;&#x4EE5;JSON&#x683C;&#x5F0F;&#x5B58;&#x50A8;&#x5728;HDFS&#x4E0A;&#x3002;&#x7EBF;&#x4E0A;&#x7CFB;&#x7EDF;&#x901A;&#x8FC7;solr&#x53BB;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x5E76;&#x68C0;&#x7D22;&#x4F7F;&#x7528;&#x3002;<br>&#x5728;&#x9700;&#x8981;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x901A;&#x5E38;&#x901A;&#x8FC7;MapReduce&#x6765;&#x5C01;&#x88C5;&#x76F8;&#x5E94;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x6DFB;&#x52A0;&#x5230;&#x6570;&#x636E;&#x7684;process flow&#x91CC;&#x3002;<br>&#x4F8B;&#x5982;&#xFF0C;&#x4E00;&#x6761;&#x6570;&#x636E;&#x7684;sample:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">{&quot;data&quot;:&quot;value&quot;,&quot;timestamp&quot;:unixtime,&quot;other_fields&quot;:&quot;something&quot;}</div></pre></td></tr></table></figure>\n<p>&#x6709;&#x4E00;&#x5929;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x5DE5;&#x7A0B;&#x5E08;train&#x4E86;&#x4E00;&#x4E9B;model&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x6240;&#x6709;&#x7684;raw data&#x8FDB;&#x884C;labelling&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x628A;&#x6570;&#x636E;&#x53D8;&#x6210;&#x8FD9;&#x6837;:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">{&quot;data&quot;:&quot;value&quot;,&quot;timestamp&quot;:unixtime,&quot;other_fields&quot;:&quot;something&quot;,&quot;label1&quot;:&quot;predict1(value)&quot;,&quot;label2&quot;:&quot;predict2(value)&quot;}</div></pre></td></tr></table></figure></p>\n<h1 id=\"&#x5B9E;&#x73B0;\"><a href=\"#&#x5B9E;&#x73B0;\" class=\"headerlink\" title=\"&#x5B9E;&#x73B0;\"></a>&#x5B9E;&#x73B0;</h1><hr>\n<p>&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x505A;&#x6570;&#x636E;&#x7684;&#x6279;&#x5904;&#x7406;&#x901A;&#x5E38;&#x662F;&#x7528;Java&#x5B9E;&#x73B0;Hadoop&#x7684;MapReduce&#xFF0C;&#x800C;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7684;&#x5DE5;&#x7A0B;&#x5E08;&#x7684;model&#x65E0;&#x4E00;&#x4F8B;&#x5916;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x76EE;&#x524D;&#x6BD4;&#x8F83;&#x6D41;&#x884C;&#x7684;python library&#x3002;  </p>\n<p>&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x5F00;&#x53D1;&#x8BED;&#x8A00;&#x5F02;&#x6784;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x60F3;&#x5230;&#x4E86;web service: </p>\n<div align=\"center\"><br><img src=\"/2016/09/04/&#x7528;hadoop-streaming&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6807;&#x7B7E;/mapreducewebservice.png\" alt=\"flow\"><br></div>\n\n<p>&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x8FD0;&#x884C;&#x65F6;&#x53D1;&#x73B0;&#xFF0C;mapreduce job&#x5728;&#x8C03;&#x7528;web service&#x65F6;&#x6548;&#x7387;&#x662F;&#x76F8;&#x5F53;&#x611F;&#x4EBA;&#x3002;<br>&#x591A;&#x4E2A;mapper&#x5728;&#x5411;wsgi server&#x53D1;&#x8D77;&#x540C;&#x6B65;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x5982;&#x679C;server&#x7684;&#x5E76;&#x53D1;&#x54CD;&#x5E94;&#x4E0D;&#x591F;&#xFF0C;request&#x5C31;&#x4F1A;&#x8FDB;&#x884C;&#x6392;&#x961F;&#x7B49;&#x5F85;&#x3002;<br>Quora&#x4E0A;&#x641C;&#x7D22;&#x5230;&#x7684;&#x4E00;&#x6761;&#x63D0;&#x95EE;&#x4E5F;&#x5F97;&#x5230;&#x8FD9;&#x6837;&#x7684;<a href=\"https://www.quora.com/How-can-I-optimise-web-service-calls-from-a-hadoop-system\" target=\"_blank\" rel=\"external\">&#x89E3;&#x91CA;</a>&#xFF1A;</p>\n<blockquote>\n<p>if you&#x2019;re asking how to efficiently make web service calls from mapreduce jobs, the answer is simple; don&#x2019;t make web service calls from mapreduce jobs.  </p>\n</blockquote>\n<p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5C31;&#x53EA;&#x597D;&#x53E6;&#x60F3;&#x529E;&#x6CD5;&#xFF0C;&#x65E2;&#x8981;hadoop&#x6765;&#x7BA1;&#x7406;job&#xFF0C;&#x53C8;&#x8981;&#x80FD;&#x80FD;&#x591F;&#x8F83;&#x4E3A;&#x9AD8;&#x6548;&#x5730;&#x8C03;&#x7528;python&#x5B9E;&#x73B0;&#x7684;model&#x3002;<br>&#x800C;<a href=\"http://hadoop.apache.org/docs/r2.6.0/hadoop-mapreduce-client/hadoop-mapreduce-client-core/HadoopStreaming.html\" target=\"_blank\" rel=\"external\">Hadoop-streaming</a>&#x5C31;&#x53EF;&#x4EE5;&#x5E2E;&#x6211;&#x4EEC;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;&#x8C03;&#x7528;&#x793A;&#x4F8B;&#xFF1A;  </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">hadoop jar hadoop-streaming-2.6.0.jar \\</div><div class=\"line\">    -input myInputDirs \\</div><div class=\"line\">    -output myOutputDir \\</div><div class=\"line\">    -mapper /bin/cat \\</div><div class=\"line\">    -reducer /usr/bin/wc</div></pre></td></tr></table></figure>\n<p>&#x4E8B;&#x5B9E;&#x4E0A;hadoop-streaming&#x91CC;, both the mapper and the reducer are executables that read the input from stdin (line by line) and emit the output to stdout.<br>&#x56E0;&#x6B64;&#x51E0;&#x4E4E;&#x53EF;&#x4EE5;&#x7528;&#x4EFB;&#x4F55;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x5728;hadoop&#x4E0A;&#x6765;&#x5B9E;&#x73B0;&#x4F60;&#x7684;mapper/reducer&#x3002;<br>&#x5728;&#x6211;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x4E2D;&#x53EA;&#x8981;&#x628A;mapper&#x6539;&#x7528;python&#x6765;&#x5B9E;&#x73B0;&#x3002;<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">#!/usr/bin/env python</span></div><div class=\"line\"><span class=\"comment\"># mapper.py </span></div><div class=\"line\"><span class=\"keyword\">import</span> json</div><div class=\"line\"><span class=\"keyword\">import</span> sys </div><div class=\"line\"><span class=\"keyword\">from</span> .models <span class=\"keyword\">import</span> Model1, Model2</div><div class=\"line\">  </div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">process</span><span class=\"params\">(raw, model1=None, model2=None)</span>:</span></div><div class=\"line\">    <span class=\"keyword\">try</span>:</div><div class=\"line\">        line = json.loads(raw)</div><div class=\"line\">        <span class=\"keyword\">if</span> model1:</div><div class=\"line\">            line[<span class=\"string\">&apos;predict1&apos;</span>] = model1.predict(line.get(<span class=\"string\">&apos;data&apos;</span>))</div><div class=\"line\">        <span class=\"keyword\">if</span> model2:</div><div class=\"line\">            line[<span class=\"string\">&apos;predict2&apos;</span>] = model2.predict(line.get(<span class=\"string\">&apos;data&apos;</span>))</div><div class=\"line\">    <span class=\"keyword\">except</span>:</div><div class=\"line\">        line = <span class=\"string\">&apos;&apos;</span> </div><div class=\"line\">  </div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">main</span><span class=\"params\">()</span>:</span></div><div class=\"line\">    model1 = Model1() </div><div class=\"line\">    model2 = Model2() </div><div class=\"line\">    <span class=\"keyword\">for</span> raw <span class=\"keyword\">in</span> sys.stdin:</div><div class=\"line\">        line = process(raw, mode1, model2)</div><div class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> line:<span class=\"keyword\">continue</span></div><div class=\"line\">        sys.stdout.write(json.dumps(line, ensure_ascii=<span class=\"keyword\">False</span>)+<span class=\"string\">&apos;\\n&apos;</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&apos;__main__&apos;</span>:</div><div class=\"line\">    main()</div></pre></td></tr></table></figure></p>\n<p>&#x800C;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x7684;job&#x6CA1;&#x6709;&#x7528;&#x5230;reducer, &#x53EA;&#x9700;&#x8981;&#x5728;mapper&#x4E2D;&#x628A;&#x6BCF;&#x4E00;&#x884C;&#x7684;&#x6570;&#x636E;dump&#x6210;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x4E3A;key&#x8F93;&#x51FA;&#xFF0C;value&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#x3002;<br>&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4E3A;&#x4E86;&#x5728;&#x96C6;&#x7FA4;&#x4E0A;&#x8FD0;&#x884C;python&#x5B9E;&#x73B0;&#x7684;hadoop-streaming job&#xFF0C;&#x9700;&#x8981;&#x96C6;&#x7FA4;&#x7684;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x5B89;&#x88C5;&#x6240;&#x9700;&#x7248;&#x672C;&#x7684;python&#x3002;<br>&#x5982;&#x679C;model&#x4F9D;&#x8D56;&#x7684;&#x5E93;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF0C;&#x5728;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x5B89;&#x88C5;&#x548C;&#x66F4;&#x65B0;&#x8FD9;&#x4E9B;&#x5E93;&#x53C8;&#x662F;&#x4E00;&#x4E2A;&#x9EBB;&#x70E6;&#x3002;<br>&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E8B;&#x5148;&#x5728;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x4F7F;&#x7528;virtualenv&#x6765;&#x5EFA;&#x7ACB;&#x73AF;&#x5883;&#xFF0C;&#x518D;&#x5C06;&#x8FD9;&#x4E2A;&#x73AF;&#x5883;&#x4EE5;archives&#x7684;&#x65B9;&#x5F0F;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;job&#x8FD0;&#x884C;&#x65F6;&#x62F7;&#x8D1D;&#x5230;&#x96C6;&#x7FA4;&#x7684;&#x5404;&#x53F0;&#x673A;&#x5668;&#x3002;<br>&#x5177;&#x4F53;&#x505A;&#x6CD5;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8FD9;&#x7BC7;<a href=\"http://henning.kropponline.de/2014/07/18/virtualenv-hadoop-streaming/\" target=\"_blank\" rel=\"external\">blog</a>&#x3002;<br>&#x9644;&#x4E0A;bash&#x811A;&#x672C;&#xFF0C;&#x4F5C;&#x4E3A;hadoop-streaming&#x5E38;&#x7528;&#x53C2;&#x6570;&#x7684;&#x53C2;&#x8003;&#x3002;</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#! /bin/bash</span></div><div class=\"line\">STREAMJAR=<span class=\"variable\">$HADOOP_HOME</span>/share/hadoop/tools/lib/hadoop-streaming-2.6.0.jar</div><div class=\"line\">INPUT=/input/path</div><div class=\"line\">OUTPUT=/output/path</div><div class=\"line\">hadoop jar <span class=\"variable\">$STREAMJAR</span> \\</div><div class=\"line\">    -D mapreduce.job.name=<span class=\"string\">&quot;JobName&quot;</span> \\</div><div class=\"line\">    -D stream.map.input.ignoreKey=<span class=\"literal\">true</span> \\</div><div class=\"line\">    -D mapreduce.job.reduces=10 \\</div><div class=\"line\">    -D mapreduce.output.fileoutputformat.compress=<span class=\"literal\">true</span> \\</div><div class=\"line\">    -D mapreduce.output.fileoutputformat.compress.codec=org.apache.hadoop.io.compress.GzipCodec \\</div><div class=\"line\">    -files ../current_dir \\</div><div class=\"line\">    -archives hdfs:///home/hbase/files/venv.zip<span class=\"comment\">#venv \\</span></div><div class=\"line\">    -input <span class=\"variable\">$INPUT</span> \\</div><div class=\"line\">    -inputformat com.hadoop.mapred.DeprecatedLzoTextInputFormat \\</div><div class=\"line\">    -output <span class=\"variable\">$TMP</span> \\</div><div class=\"line\">    -mapper current_dir/mapper_aug.py \\</div><div class=\"line\">    -reducer current_dir/reducer.py \\</div><div class=\"line\">    -cmdenv FLAG=<span class=\"literal\">true</span></div></pre></td></tr></table></figure>\n"},{"title":"手机按键精灵的硬件实现","url":"http://yoursite.com/2016/09/03/手机按键精灵的硬件实现/","content":""},{"title":"ESP8266和Blynk实现的远程智能浇花系统","url":"http://yoursite.com/2016/09/03/ESP8266和Blynk实现的远程智能浇花系统/","content":""},{"title":"语音交互机器人的树莓派实现","url":"http://yoursite.com/2016/09/03/语音交互机器人的树莓派实现/","content":""},{"title":"Git原理和使用","url":"http://yoursite.com/2016/09/03/Git原理和使用/","content":""},{"title":"HBase的Rowkey设计与Region Server调优","url":"http://yoursite.com/2016/09/03/HBase的Rowkey设计与Region-Server调优/","content":""},{"title":"用Phantom JS批量展现句法树","url":"http://yoursite.com/2016/09/03/用Phantom-JS批量展现句法树/","content":""},{"title":"用Scrapy抓Flickr的照片","url":"http://yoursite.com/2016/09/03/用Scrapy抓Flickr的照片/","content":""},{"title":"Hello World","url":"http://yoursite.com/2016/09/01/hello-world/","content":"<h1 id=\"&#x521D;&#x8877;\"><a href=\"#&#x521D;&#x8877;\" class=\"headerlink\" title=\"&#x521D;&#x8877;\"></a>&#x521D;&#x8877;</h1><p>&#x53D1;&#x73B0;&#x5E74;&#x7EAA;&#x5927;&#x4E86;&#xFF0C;&#x8BB0;&#x6027;&#x8D8A;&#x6765;&#x8D8A;&#x5DEE;&#x3002;<br>&#x6240;&#x4EE5;&#x642D;&#x5EFA;&#x8FD9;&#x4E2A;&#x535A;&#x5BA2;&#x7684;&#x521D;&#x8877;&#x662F;&#x8BB0;&#x5F55;&#x81EA;&#x5DF1;&#x5DE5;&#x4F5C;&#x548C;&#x751F;&#x6D3B;&#x4E2D;&#x7684;&#x6280;&#x672F;&#x603B;&#x7ED3;&#x4EE5;&#x53CA;&#x80E1;&#x601D;&#x4E71;&#x60F3;&#x3002;</p>\n<p>&#x8C03;&#x67E5;&#x4E86;&#x4E00;&#x4E9B;&#x73B0;&#x6709;&#x7684;&#x535A;&#x5BA2;&#x5E73;&#x53F0;&#xFF0C;&#x5982;CSDN&#x3001;&#x7B80;&#x4E66;&#x3001;WordPress&#x7B49;&#x7B49;&#xFF0C;&#x90FD;&#x6CA1;&#x80FD;&#x62B5;&#x6321;&#x81EA;&#x5DF1;&#x5FC3;&#x4E2D;&#x7684;&#x7591;&#x8651;&#x548C;&#x5C0F;&#x5C0F;&#x7684;&#x730E;&#x5947;&#x5FC3;&#x7406;&#x3002;<br>&#x6700;&#x540E;&#x53C2;&#x8003;&#x4E86;&#x4E00;&#x7BC7;&#x7528;<a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>+<a href=\"https://github.com\" target=\"_blank\" rel=\"external\">GitHub</a>&#x642D;&#x5EFA;&#x535A;&#x5BA2;&#x7684;<a href=\"http://www.jianshu.com/p/465830080ea9\" target=\"_blank\" rel=\"external\">&#x6587;&#x7AE0;</a>&#xFF0C;&#x53C8;&#x53C2;&#x8003;&#xFF08;COPY&#xFF09;&#x4E86;&#x4E00;&#x4E2A;&#x53EB;<a href=\"https://github.com/forsigner/fexo\" target=\"_blank\" rel=\"external\">Fexo</a>&#x7684;&#x6781;&#x7B80;&#x98CE;&#x683C;&#xFF0C;&#x624D;&#x6709;&#x4E86;&#x535A;&#x5BA2;&#x76EE;&#x524D;&#x7684;&#x8FD9;&#x4E2A;&#x6837;&#x5B50;&#x3002;</p>\n<p>&#x7B97;&#x662F;&#x6709;&#x4E2A;&#x81EA;&#x5DF1;&#x7684;&#x5C0F;&#x7A9D;&#x70B9;&#x4E86;&#xFF0C;&#x5E0C;&#x671B;&#x80FD;&#x591F;&#x5B9A;&#x671F;&#xFF08;&#x4E00;&#x5468;&#x5DE6;&#x53F3;&#xFF09;&#x66F4;&#x65B0; &#xFF1A;&#xFF09;</p>\n<p>&#x5148;&#x5217;&#x4E00;&#x4E0B;&#x4ECA;&#x5E74;&#x6253;&#x7B97;&#x66F4;&#x65B0;&#x7684;&#x9898;&#x76EE;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x662F;&#x5386;&#x53F2;&#x8D1F;&#x503A;=,=&#xFF1A;</p>\n<ul>\n<li><strong>Maker&#x7CFB;&#x5217;</strong><ul>\n<li><a href=\"https://juncaofish.github.io/2016/09/03/ESP8266%E5%92%8CBlynk%E5%AE%9E%E7%8E%B0%E7%9A%84%E8%BF%9C%E7%A8%8B%E6%99%BA%E8%83%BD%E6%B5%87%E8%8A%B1%E7%B3%BB%E7%BB%9F/\" target=\"_blank\" rel=\"external\">ESP8266&#x548C;Blynk&#x5B9E;&#x73B0;&#x7684;&#x8FDC;&#x7A0B;&#x667A;&#x80FD;&#x6D47;&#x82B1;&#x7CFB;&#x7EDF;</a> </li>\n<li><a href=\"https://juncaofish.github.io/2016/09/03/%E6%89%8B%E6%9C%BA%E6%8C%89%E9%94%AE%E7%B2%BE%E7%81%B5%E7%9A%84%E7%A1%AC%E4%BB%B6%E5%AE%9E%E7%8E%B0/\" target=\"_blank\" rel=\"external\">&#x624B;&#x673A;&#x6309;&#x952E;&#x7CBE;&#x7075;&#x7684;&#x786C;&#x4EF6;&#x5B9E;&#x73B0;</a> </li>\n<li><a href=\"https://juncaofish.github.io/2016/09/05/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E8%81%8A%E5%A4%A9%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%9A%84%E6%90%AD%E5%BB%BA/\" target=\"_blank\" rel=\"external\">&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x804A;&#x5929;&#x673A;&#x5668;&#x4EBA;&#x7684;&#x642D;&#x5EFA;</a> </li>\n<li><a href=\"https://juncaofish.github.io/2016/09/03/%E8%AF%AD%E9%9F%B3%E4%BA%A4%E4%BA%92%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%9E%E7%8E%B0/\" target=\"_blank\" rel=\"external\">&#x8BED;&#x97F3;&#x4EA4;&#x4E92;&#x673A;&#x5668;&#x4EBA;&#x7684;&#x6811;&#x8393;&#x6D3E;&#x5B9E;&#x73B0;</a> </li>\n</ul>\n</li>\n<li><strong>Dataer&#x7CFB;&#x5217;</strong><ul>\n<li><a href=\"https://juncaofish.github.io/2016/09/03/%E7%94%A8Scrapy%E6%8A%93Flickr%E7%9A%84%E7%85%A7%E7%89%87/\" target=\"_blank\" rel=\"external\">&#x7528;Scrapy&#x6293;&#x53D6;Flickr&#x7167;&#x7247;</a> </li>\n<li><a href=\"https://juncaofish.github.io/2016/09/03/%E7%94%A8Phantom-JS%E6%89%B9%E9%87%8F%E5%B1%95%E7%8E%B0%E5%8F%A5%E6%B3%95%E6%A0%91/\" target=\"_blank\" rel=\"external\">&#x7528;Phantom JS&#x6279;&#x91CF;&#x5C55;&#x73B0;&#x53E5;&#x6CD5;&#x6811;</a> </li>\n<li><a href=\"https://juncaofish.github.io/2016/09/03/HBase%E7%9A%84Rowkey%E8%AE%BE%E8%AE%A1%E4%B8%8ERegion-Server%E8%B0%83%E4%BC%98/\" target=\"_blank\" rel=\"external\">HBase&#x7684;Rowkey&#x8BBE;&#x8BA1;&#x4E0E;Region Server&#x8C03;&#x4F18;</a> </li>\n<li><a href=\"https://juncaofish.github.io/2016/09/04/%E7%94%A8hadoop-streaming%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%A0%87%E7%AD%BE/\" target=\"_blank\" rel=\"external\">hadoop-streaming&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6807;&#x7B7E;</a> </li>\n<li><a href=\"https://juncaofish.github.io/2016/09/01/%E7%94%A8Hive%E5%A4%84%E7%90%86%E6%B5%B7%E9%87%8FJSON%E6%95%B0%E6%8D%AE/\" target=\"_blank\" rel=\"external\">&#x7528;Hive&#x5904;&#x7406;&#x6D77;&#x91CF;JSON&#x6570;&#x636E;</a> </li>\n</ul>\n</li>\n</ul>\n"},{"title":"category","url":"http://yoursite.com/category/index.html","content":""},{"title":"link","url":"http://yoursite.com/link/index.html","content":""},{"title":"about","url":"http://yoursite.com/about/index.html","content":""},{"title":"search","url":"http://yoursite.com/search/index.html","content":""},{"title":"project","url":"http://yoursite.com/project/index.html","content":""},{"title":"tag","url":"http://yoursite.com/tag/index.html","content":""}]